<!DOCTYPE html>
<html>
<head>
  <title>Custom Playing Card Deck Generator</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f9f9f9; }
    img.card { margin: 5px; border: 1px solid #aaa; border-radius: 8px; background: white; }
    #deck { display: flex; flex-wrap: wrap; justify-content: center; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&display=swap" rel="stylesheet">
</head>
<body>
  <h2>Custom Playing Card Generator</h2>
  <p>Upload your suit icons (PNG/SVG):</p>
  <input type="file" id="spadeUpload"> ♠ Spade<br>
  <input type="file" id="heartUpload"> ♥ Heart<br>
  <input type="file" id="clubUpload"> ♣ Club<br>
  <input type="file" id="diamondUpload"> ♦ Diamond<br><br>
  <button onclick="generateDeck()">Generate Deck</button>
  
  <div id="deck"></div>

  <script>
    let suits = {};
    const cardWidth = 300, cardHeight = 440; // double resolution for clarity

    function loadImage(file, suitName) {
      const reader = new FileReader();
      reader.onload = e => {
        const img = new Image();
        img.onload = () => suits[suitName] = img;
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    document.getElementById("spadeUpload").onchange = e => loadImage(e.target.files[0], "spade");
    document.getElementById("heartUpload").onchange = e => loadImage(e.target.files[0], "heart");
    document.getElementById("clubUpload").onchange = e => loadImage(e.target.files[0], "club");
    document.getElementById("diamondUpload").onchange = e => loadImage(e.target.files[0], "diamond");

    function drawCard(ctx, rank, suitImg, color) {
      // card background
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, cardWidth, cardHeight);
      ctx.strokeRect(0, 0, cardWidth, cardHeight);

      // rank text (corner)
      ctx.fillStyle = color;
      ctx.font = "56px 'Cinzel', serif";
      ctx.textAlign = "left";
      ctx.fillText(rank, 24, 70);
      ctx.drawImage(suitImg, 24, 80, 36, 36);

      // mirrored bottom-right
      ctx.textAlign = "right";
      ctx.fillText(rank, cardWidth - 24, cardHeight - 24 - 36);
      ctx.drawImage(suitImg, cardWidth - 72, cardHeight - 72, 36, 36);

      // main symbols
      let positions = {
        2: [[0.5,0.38],[0.5,0.62]],
        3: [[0.5,0.3],[0.5,0.5],[0.5,0.7]],
        4: [[0.35,0.35],[0.65,0.35],[0.35,0.65],[0.65,0.65]],
        5: [[0.35,0.35],[0.65,0.35],[0.5,0.5],[0.35,0.65],[0.65,0.65]],
        6: [[0.35,0.3],[0.65,0.3],[0.35,0.5],[0.65,0.5],[0.35,0.7],[0.65,0.7]],
        7: [[0.5,0.2],[0.35,0.35],[0.65,0.35],[0.5,0.5],[0.35,0.65],[0.65,0.65],[0.5,0.8]],
        8: [[0.35,0.2],[0.65,0.2],[0.35,0.35],[0.65,0.35],[0.35,0.5],[0.65,0.5],[0.35,0.65],[0.65,0.65]],
        9: [[0.5,0.15],[0.35,0.3],[0.65,0.3],[0.35,0.5],[0.65,0.5],[0.5,0.55],[0.35,0.7],[0.65,0.7],[0.5,0.85]],
        10:[[0.35,0.22],[0.65,0.22],[0.35,0.35],[0.65,0.35],[0.35,0.48],[0.65,0.48],
            [0.35,0.61],[0.65,0.61],[0.35,0.74],[0.65,0.74]]
      };

      let size = 56; // bigger for higher quality
      positions[rank].forEach(pos => {
        ctx.drawImage(suitImg, pos[0]*cardWidth - size/2, pos[1]*cardHeight - size/2, size, size);
      });
    }

    function generateDeck() {
      const deckDiv = document.getElementById("deck");
      deckDiv.innerHTML = "";
      const ranks = [2,3,4,5,6,7,8,9,10];
      const suitList = [
        {name:"spade", color:"black"},
        {name:"heart", color:"red"},
        {name:"club", color:"black"},
        {name:"diamond", color:"red"}
      ];

      suitList.forEach(suit => {
        ranks.forEach(rank => {
          if (!suits[suit.name]) return;

          // create offscreen canvas
          let canvas = document.createElement("canvas");
          canvas.width = cardWidth;
          canvas.height = cardHeight;
          let ctx = canvas.getContext("2d");

          drawCard(ctx, rank, suits[suit.name], suit.color);

          // convert canvas to real image
          let img = new Image();
          img.src = canvas.toDataURL("image/png");
          img.className = "card";
          deckDiv.appendChild(img);
        });
      });
    }
  </script>
</body>
</html>